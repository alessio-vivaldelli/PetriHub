<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.control.cell.PropertyValueFactory?>

<BorderPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="it.petrinet.controller.HomeController"
            style="-fx-background-color: #1E1E2E;">

    <!-- Top: Header with welcome and New Net button -->
    <top>
        <HBox spacing="10"
              style="-fx-padding: 20; -fx-background-color: #313244; -fx-background-radius: 12;">
            <Label fx:id="userNameLabel"
                   text="Welcome, Guest!"
                   style="-fx-text-fill: #cdd6f4; -fx-font-size: 30; -fx-font-weight: bold;"/>
            <Pane HBox.hgrow="ALWAYS"/>
            <Button text="+ New Net"
                    onAction="#handleNewNet"
                    style="-fx-background-color: #89b4fa; -fx-text-fill: #1e1e2e; -fx-font-weight: bold; -fx-background-radius: 8; -fx-padding: 12 20; -fx-font-size: 14;"/>
            <Button text="Open Net"
                    style="-fx-background-color: #45475a; -fx-text-fill: #cdd6f4; -fx-font-weight: 500; -fx-background-radius: 8; -fx-padding: 12 20; -fx-font-size: 14; -fx-border-color: #585b70; -fx-border-width: 1; -fx-border-radius: 8;"/>
        </HBox>
    </top>

    <!-- Center: Modern Table Layout -->
    <center>
        <VBox spacing="24" style="-fx-padding: 20 0 20 0;">

            <!-- Table Section Header -->
            <HBox alignment="CENTER_LEFT">
                <Label text="Recent Nets"
                       style="-fx-text-fill: #cdd6f4; -fx-font-size: 24; -fx-font-weight: bold;"/>
                <Pane HBox.hgrow="ALWAYS"/>
            </HBox>
            <!-- Modern TableView Container -->
            <VBox styleClass="modern-table-container" maxWidth="Infinity" prefHeight="272">
                <TableView fx:id="tableView"
                           VBox.vgrow="ALWAYS"
                           prefHeight="320"
                           style="-fx-background-color: transparent;">

                    <columns>
                        <!-- Type Column -->
                        <TableColumn fx:id="typeCol" text="TYPE" prefWidth="120" minWidth="100">
                            <cellValueFactory>
                                <PropertyValueFactory property="type"/>
                            </cellValueFactory>
                        </TableColumn>

                        <!-- Name Column -->
                        <TableColumn fx:id="nameCol" text="NOME" prefWidth="250" minWidth="200">
                            <cellValueFactory>
                                <PropertyValueFactory property="Name"/>
                            </cellValueFactory>
                        </TableColumn>

                        <!-- Author Column -->
                        <TableColumn fx:id="authorCol" text="AUTHOR" prefWidth="150" minWidth="120">
                            <cellValueFactory>
                                <PropertyValueFactory property="author"/>
                            </cellValueFactory>
                        </TableColumn>

                        <!-- Last Modified Column -->
                        <TableColumn fx:id="dateCol" text="LAST MODIFIED" prefWidth="140" minWidth="120">
                            <cellValueFactory>
                                <PropertyValueFactory property="lastModified"/>
                            </cellValueFactory>
                        </TableColumn>

                        <!-- Status Column -->
                        <TableColumn fx:id="statusCol" text="STATUS" prefWidth="120" minWidth="100">
                            <cellValueFactory>
                                <PropertyValueFactory property="status"/>
                            </cellValueFactory>
                        </TableColumn>
                    </columns>

                    <!-- Remove table menu -->
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                    </columnResizePolicy>

                </TableView>
            </VBox>

            <!-- Quick Stats Section -->
            <Label text="Quick Stats"
                   style="-fx-text-fill: #cdd6f4; -fx-font-size: 18; -fx-font-weight: bold;"/>

            <HBox spacing="20">
                <VBox alignment="CENTER_LEFT" HBox.hgrow="ALWAYS"
                      style="-fx-background-color: #313244; -fx-background-radius: 12; -fx-padding: 24; -fx-border-color: #45475a; -fx-border-width: 1; -fx-border-radius: 12;">
                    <Label text="Total Nets"
                           style="-fx-text-fill: #bac2de; -fx-font-size: 14; -fx-font-weight: 500;"/>
                    <Label fx:id="totalNetsLabel"
                           text="15"
                           style="-fx-text-fill: #cdd6f4; -fx-font-size: 32; -fx-font-weight: bold;"/>
                </VBox>

                <VBox alignment="CENTER_LEFT" HBox.hgrow="ALWAYS"
                      style="-fx-background-color: #313244; -fx-background-radius: 12; -fx-padding: 24; -fx-border-color: #45475a; -fx-border-width: 1; -fx-border-radius: 12;">
                    <Label text="Simulations Run"
                           style="-fx-text-fill: #bac2de; -fx-font-size: 14; -fx-font-weight: 500;"/>
                    <Label fx:id="simulationsRunLabel"
                           text="50"
                           style="-fx-text-fill: #cdd6f4; -fx-font-size: 32; -fx-font-weight: bold;"/>
                </VBox>

                <VBox alignment="CENTER_LEFT" HBox.hgrow="ALWAYS"
                      style="-fx-background-color: #313244; -fx-background-radius: 12; -fx-padding: 24; -fx-border-color: #45475a; -fx-border-width: 1; -fx-border-radius: 12;">
                    <Label text="Analyses Performed"
                           style="-fx-text-fill: #bac2de; -fx-font-size: 14; -fx-font-weight: 500;"/>
                    <Label fx:id="analysesPerformedLabel"
                           text="20"
                           style="-fx-text-fill: #cdd6f4; -fx-font-size: 32; -fx-font-weight: bold;"/>
                </VBox>
            </HBox>

            <!-- Activity Feed Section -->
                <Label text="Activity Feed"
                       style="-fx-text-fill: #cdd6f4; -fx-font-size: 18; -fx-font-weight: bold;"/>
            <VBox style="-fx-background-color: #313244; -fx-background-radius: 12; -fx-padding: 24; -fx-border-color: #45475a; -fx-border-width: 1; -fx-border-radius: 12;">
                <VBox.margin>
                    <Insets bottom="16"/>
                </VBox.margin>

                <ScrollPane fitToWidth="true"
                            prefHeight="200"
                            style="-fx-background-color: transparent; -fx-background: transparent;">
                    <VBox fx:id="activityFeedContainer" spacing="12">

                        <!-- Sample Activity Items -->
                        <HBox spacing="12" style="-fx-padding: 12; -fx-background-color: #45475a; -fx-background-radius: 8;">
                            <Region style="-fx-background-color: #89b4fa; -fx-background-radius: 8; -fx-pref-width: 32; -fx-pref-height: 32;"/>
                            <VBox spacing="2">
                                <Label text="Net Manufacturing Process Flow modified"
                                       style="-fx-text-fill: #cdd6f4; -fx-font-size: 14; -fx-font-weight: 500;"/>
                                <Label text="2024-03-10, 10:32 AM"
                                       style="-fx-text-fill: #bac2de; -fx-font-size: 12;"/>
                            </VBox>
                        </HBox>

                        <HBox spacing="12" style="-fx-padding: 12; -fx-background-color: #45475a; -fx-background-radius: 8;">
                            <Region style="-fx-background-color: #a6e3a1; -fx-background-radius: 8; -fx-pref-width: 32; -fx-pref-height: 32;"/>
                            <VBox spacing="2">
                                <Label text="Simulation run on Net Supply Chain Logistics"
                                       style="-fx-text-fill: #cdd6f4; -fx-font-size: 14; -fx-font-weight: 500;"/>
                                <Label text="2024-03-09, 03:15 PM"
                                       style="-fx-text-fill: #bac2de; -fx-font-size: 12;"/>
                            </VBox>
                        </HBox>

                        <HBox spacing="12" style="-fx-padding: 12; -fx-background-color: #45475a; -fx-background-radius: 8;">
                            <Region style="-fx-background-color: #f9e2af; -fx-background-radius: 8; -fx-pref-width: 32; -fx-pref-height: 32;"/>
                            <VBox spacing="2">
                                <Label text="Analysis performed on Net Server Request Model"
                                       style="-fx-text-fill: #cdd6f4; -fx-font-size: 14; -fx-font-weight: 500;"/>
                                <Label text="2024-03-07, 09:00 AM"
                                       style="-fx-text-fill: #bac2de; -fx-font-size: 12;"/>
                            </VBox>
                        </HBox>

                    </VBox>
                </ScrollPane>
            </VBox>

        </VBox>
    </center>

</BorderPane>